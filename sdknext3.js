(()=>{var Me=(()=>{function n(o){return new TextEncoder().encode(o)}function e(o){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(o)))}function t(o){let g=atob(o),y=new Uint8Array(g.length);for(let b=0;b<g.length;b++)y[b]=g.charCodeAt(b);return y}async function s(o){let g=await new Response(o).body.pipeThrough(new CompressionStream("gzip")),y=await new Response(g).arrayBuffer(),b=new Uint8Array(y);return e(b)}async function r(o){let g=t(o),y=await new Response(g).body.pipeThrough(new DecompressionStream("gzip"));return await new Response(y).text()}async function l(o,g,y){let b=n(g),k=n(y),O=n(o),v=await window.crypto.subtle.importKey("raw",b,{name:"AES-GCM"},!1,["encrypt"]),S=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:k},v,O);return e(S)}async function a(o,g,y){let b=n(g),k=n(y),O=t(o),v=await window.crypto.subtle.importKey("raw",b,{name:"AES-GCM"},!1,["decrypt"]),S=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:k},v,O);return new TextDecoder().decode(S)}async function p(o){let g=new TextEncoder("utf-8").encode(o),y=await crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(b=>b.toString(16).padStart(2,"0")).join("")}async function i(){let o=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["encrypt","decrypt"]);return o.privateKeyString=e(await window.crypto.subtle.exportKey("pkcs8",o.privateKey)),o.publicKeyString=e(await window.crypto.subtle.exportKey("spki",o.publicKey)),o}async function f(o,g){typeof o=="string"&&(o=await window.crypto.subtle.importKey("spki",t(o),{name:"RSA-OAEP",hash:{name:"SHA-256"}},!0,["encrypt"]));let y=new TextEncoder().encode(g),b=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},o,y);return e(b)}async function u(o,g){typeof g=="string"&&(g=t(g)),typeof o=="string"&&(o=await window.crypto.subtle.importKey("pkcs8",t(o),{name:"RSA-OAEP",hash:{name:"SHA-256"}},!0,["decrypt"]));let y=await window.crypto.subtle.decrypt({name:"RSA-OAEP"},o,g);return new TextDecoder().decode(y)}async function c(){let o=await window.crypto.subtle.generateKey({name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]);return o.privateKeyString=e(await window.crypto.subtle.exportKey("pkcs8",o.privateKey)),o.publicKeyString=e(await window.crypto.subtle.exportKey("spki",o.publicKey)),o}async function _(o,g){typeof o=="string"&&(o=await window.crypto.subtle.importKey("pkcs8",t(o),{name:"RSA-PSS",hash:{name:"SHA-256"}},!0,["sign"]));let y=new TextEncoder().encode(g),b=await window.crypto.subtle.sign({name:"RSA-PSS",saltLength:32},o,y);return e(b)}async function h(o,g,y){typeof g=="string"&&(g=t(g)),typeof o=="string"&&(o=await window.crypto.subtle.importKey("spki",t(o),{name:"RSA-PSS",hash:{name:"SHA-256"}},!0,["verify"]));let b=new TextEncoder().encode(y);return await window.crypto.subtle.verify({name:"RSA-PSS",saltLength:32},o,g,b)}return{compressString:s,decompressString:r,encryptAesGcm:l,decryptAesGcm:a,sha256:p,generateKeyPairEnDecrypt:i,encryptData:f,decryptData:u,generateKeyPairSignVerify:c,signData:_,verifySignature:h}})();var ie=(()=>{let n=Object.getPrototypeOf,e,t,s,r,l={isConnected:1},a=1e3,p,i={},f=n(l),u=n(n),c,_=w=>typeof w=="object"&&!!w.tagName&&w instanceof HTMLElement&&!!w.nodeType,h=(w,E,R,T)=>(w??(setTimeout(R,T),new Set)).add(E),o=(w,E,R)=>{let T=s;s=E;try{return w(R)}catch(P){return console.error(P),R}finally{s=T}},g=w=>w.filter(E=>E._dom?.isConnected),y=w=>p=h(p,w,()=>{for(let E of p)E._bindings=g(E._bindings),E._listeners=g(E._listeners);p=c},a),b={get val(){return s?._getters?.add(this),this.rawVal},get oldVal(){return s?._getters?.add(this),this._oldVal},set val(w){s?._setters?.add(this),w!==this.rawVal&&(this.rawVal=w,this._bindings.length+this._listeners.length?(t?.add(this),e=h(e,this,W)):this._oldVal=w)}},k=w=>Object.create(b,{rawVal:{value:w,writable:!0,enumerable:!0,configurable:!0},_oldVal:{value:w,writable:!0,enumerable:!0,configurable:!0},_bindings:{value:[],writable:!0,enumerable:!0,configurable:!0},_listeners:{value:[],writable:!0,enumerable:!0,configurable:!0}}),O=(w,E)=>{let R={_getters:new Set,_setters:new Set},T={f:w},P=r;r=[];let B=o(w,R,E);B=(B??document).nodeType?B:new Text(B);for(let d of R._getters)R._setters.has(d)||(y(d),d._bindings.push(T));for(let d of r)d._dom=B;return r=P,T._dom=B},v=(w,E=k(),R)=>{let T={_getters:new Set,_setters:new Set},P={f:w,s:E};P._dom=R??r?.push(P)??l,E.val=o(w,T,E.rawVal);for(let B of T._getters)T._setters.has(B)||(y(B),B._listeners.push(P));return E},S=(w="append")=>(E,...R)=>{if(_(E)){["append","prepend","before","after","replaceWith","remove","replaceChildren"].includes(w)||(w="append");for(let P of R.flat(1/0)){let B=n(P??0),d=B===b?O(()=>P.val):B===u?O(P):P;d!=c&&E.append(d)}}return E},x=S(),L=(w,E,...R)=>{let[T,...P]=n(R[0]??0)===f?R:[{},...R],B=w?document.createElementNS(w,E):document.createElement(E);for(let[d,m]of Object.entries(T)){(d.startsWith("on")||d.startsWith("this"))&&(m=typeof m=="function"?m:M=>{new Function("this",m)(M)}),typeof m=="function"&&(m=m.bind(m,B));let C=M=>M?Object.getOwnPropertyDescriptor(M,d)??C(n(M)):c,$=E+","+d,z=i[$]??(i[$]=C(n(B))?.set??0),D=d.startsWith("on")||d.startsWith("this")?(M,Z)=>{let Q=d.startsWith("on")?d.slice(2):d.slice(4);d.startsWith("on")?(B.removeEventListener(Q,Z),B.addEventListener(Q,M)):Object.defineProperty(B,Q,{get:M})}:z?z.bind(B):B.setAttribute.bind(B,d),q=n(m??0);d.startsWith("on")||d.startsWith("this")||q===u&&(m=v(m),q=b),q===b?O(()=>(D(m.val,m._oldVal),B)):D(m)}return x(B,P)},A=w=>({get:(E,R)=>L.bind(c,w,R)}),V=new Proxy(w=>new Proxy(L,A(w)),A()),j=(w,E)=>E?E!==w&&w.replaceWith(E):w.remove(),W=()=>{let w=0,E=[...e].filter(T=>T.rawVal!==T._oldVal);do{t=new Set;for(let T of new Set(E.flatMap(P=>P._listeners=g(P._listeners))))v(T.f,T.s,T._dom),T._dom=c}while(++w<100&&(E=[...t]).length);let R=[...e].filter(T=>T.rawVal!==T._oldVal);e=c;for(let T of new Set(R.flatMap(P=>P._bindings=g(P._bindings))))j(T._dom,O(T.f,T._dom)),T._dom=c;for(let T of R)T._oldVal=T.rawVal};return{add:x,insertNodes:S,tags:V,state:k,derive:v,hydrate:(w,E)=>j(w,O(E,w))}})();var Ue=n=>{let{fromEntries:e,entries:t,keys:s}=Object,{get:r,set:l,deleteProperty:a,ownKeys:p}=Reflect,{state:i,derive:f,add:u}=n,c,_=1e3,h,o,g=Symbol(),y=Symbol(),b=Symbol(),k=Symbol(),O=Symbol(),v=Symbol(),S=d=>(d[b]=1,d),x=d=>{if(d?.[b]){let m=i();return f(()=>{let C=d();m.rawVal instanceof Object&&C instanceof Object?P(m.rawVal,C):m.val=L(C)}),m}else return i(L(d))},L=d=>!(d instanceof Object)||d[y]?d:new Proxy((d[g]=d,d[y]=e(t(d).map(([m,C])=>[m,x(C)])),d[k]=[],d[O]=i(1),d),{get:(m,C,$)=>m[y].hasOwnProperty(C)?m[y][C].val:(C==="length"&&m[O].val,r(m,C,$)),set(m,C,$,z){let D=m[y];if(D.hasOwnProperty(C))return D[C].val=L($),1;let q=C in m,M=q&&C==="length"&&$!==m.length;if(l(m,C,$))return q?M&&++m[O].val:l(D,C,x($))&&(++m[O].val,F(z,C,D[C])),1},deleteProperty:(m,C)=>(a(m[y],C)&&w(m,C),a(m,C)&&++m[O].val),ownKeys:m=>(m[O].val,p(m))}),A=d=>d[y],V=d=>d[y]?new Proxy(d[y],{get:(m,C)=>V(m[C].rawVal)}):d,j=d=>d[k]=d[k].filter(m=>m._containerDom.isConnected),W=(d,m,C,$,{_containerDom:z,f:D})=>{let q=Array.isArray(d);if(u(z,()=>z[v][m]=D(C,()=>delete d[m],q?Number(m):m)),q&&!$&&m!=d.length-1){let M=Number(m);z.insertBefore(z.lastChild,z[v][s(d).find(Z=>Number(Z)>M)])}},F=(d,m,C)=>j(d).forEach(W.bind(h,d,m,C,o)),w=(d,m)=>{for(let C of j(d)){let $=C._containerDom[v];$[m]?.remove(),delete $[m]}},E=d=>(c??(c=(setTimeout(()=>(c.forEach(j),c=h),_),new Set))).add(d),R=(d,m,C)=>{let $={_containerDom:d instanceof Function?d():d,f:C};$._containerDom[v]={},m[k].push($),E(m);for(let[z,D]of t(m[y]))W(m,z,D,1,$);return $._containerDom},T=(d,m)=>{for(let[z,D]of t(m)){let q=d[z];q instanceof Object&&D instanceof Object?T(q,D):d[z]=D}for(let z in d)m.hasOwnProperty(z)||delete d[z];let C=s(m),$=Array.isArray(d);if($||s(d).some((z,D)=>z!==C[D])){if($)d.length=m.length;else{++d[O].val;let z=d[g],D={...z};for(let q of C)delete z[q];for(let q of C)z[q]=D[q]}for(let{_containerDom:z}of j(d)){let{firstChild:D,[v]:q}=z;for(let M of C)D===q[M]?D=D.nextSibling:z.insertBefore(q[M],D)}}return d},P=(d,m)=>{o=1;try{return T(d,m instanceof Function?Array.isArray(d)?m(d.filter(C=>1)):e(m(t(d))):m)}finally{o=h}},B=d=>Array.isArray(d)?d.filter(m=>1).map(B):d instanceof Object?e(t(d).map(([m,C])=>[m,B(C)])):d;return{calc:S,reactive:L,stateFields:A,raw:V,list:R,replace:P,compact:B}};var Ke=(()=>{function n(a){return/^[a-zA-Z_][a-zA-Z_0-9]+$/.test(a)?a:`"${a}"`}function e(a=""){let p=[];if(a.includes("{{")&&a.includes("}}")){let f=a.indexOf("{{"),u=a.indexOf("}}"),c=a.slice(0,f).trim(),_=a.slice(u+2).trim(),h=a.slice(f+2,u).trim();if(c.length>0&&p.push(JSON.stringify(c)),h.length>0&&p.push(h),_.length>0){let o=e(_).filter(g=>g);_.length>0&&p.push(...o)}}else p.push(JSON.stringify(a));let i=p.filter(f=>f);return i.length===0?[]:i}function t(a,p=!1){if(a.nodeType===3)return e(a.nodeValue.trim()).filter(x=>x&&x!='""').join(",");if(!a.tagName||a.tagName.toLowerCase()==="script"&&!p)return"";let i=a.tagName.toLowerCase(),f=[],u={};if(Array.from(a.attributes).forEach(v=>{let S=v.value.trim();S&&(u[v.name.trim()]=S)}),u.hasOwnProperty("x-script")){let v="x-script";f.push(u[v]),delete u[v]}let c=u.hasOwnProperty("x-include")?(()=>{let S=u["x-include"];S.startsWith("{{")&&S.endsWith("}}")?S=S.slice(2,-2).trim():S=JSON.stringify(S);let A=`
      ()=> {
        let fnUrl =  ${S};
          let urlv = typeof fnUrl == 'function' ? fnUrl(): fnUrl;
          let x_url = new URL(urlv, location.href).toString();
          let st = fetch(x_url).then(response => response.text());
          return $Await({value:st.then(data => $htmlToTjs(data, true)), Loadding: ()=> null, Error: () => null }, p => {
            return $tags["div"](p.map(m => {
              let em = eval(m); return typeof em == 'function' ? em(): em;}));
          });
      }
     `;return delete u["x-include"],A})():"",_=u.hasOwnProperty("x-list")?(()=>{let v=u["x-list"]||"";return delete u["x-list"],v})():"",h=Object.keys(u).map(v=>{let S=v;if(u[v].startsWith("{{")&&u[v].endsWith("}}")){let x=u[v].slice(2,-2).trim();return`${n(S)}:${x}`}else return`${n(S)}:${JSON.stringify(u[v])}`}).join(","),o=[],g="";i==="script"?g=JSON.stringify(a.textContent):c||(o=Array.from(a.childNodes).map(v=>t(v,p)),g=o.filter(v=>v).join(","));let y=`$tags["${i}"]`,b="";var k=()=>{if(_){let v=_.match(/^\s*(\()?(?<k>[^\(\)]+)(\))?\s+in\s+(?<d>[a-zA-Z0-9\.\$_]+)\s*$/);if(v){let{k:S,d:x}=v.groups;b=`$list(${y},${x},(${S}) =>${g||""})`}}c&&(h?b=`${y}({${h}},${c})`:b=`${y}(${c})`)};Object.keys(u).length>0?(b=`${y}({${h}} ${g?","+g:""})`,k()):(b=g?`${y}(${g})`:`${y}()`,k());let O=b;return f.length>0&&(O=`()=>{${f.join(" ")} return ${b};}`),O}function s(a,p=!1){let u=new DOMParser().parseFromString(a,"text/html").body.childNodes;return r(u,p)}function r(a,p=!1){let i=[];for(let f of a)i.push(t(f,p));return i=i.filter(f=>f),i}function l(a,p="append",i,f=!1){return $insertNodes(p)(a,s(i,f).map(u=>new Function("return "+u)()))}return{addHtmToElement:l,htmlToTjs:s,domToTjs:r}})();var We=n=>{function e(t,s,r={mode:"open",attrs:[]}){function l(i=[]){let f=[];for(let c of i){var u=[...c.classList];if(u.length>0&&f.push(...u),c.children.length>0){let _=l(c.children);f.push(..._)}}return[...new Set(f)]}function a(i,f){new MutationObserver(u=>{for(let c of u)if(c.type=="attributes"&&c.attributeName=="class"){let h=[...c.target.classList].map(o=>o.trim()).filter(o=>o);typeof f=="function"&&f([...new Set(h)])}else if(c.type=="childList"&&c.addedNodes.length>0){let _=[...c.addedNodes].filter(h=>h.nodeType!=3).map(h=>[...h.classList]).flat(1/0).map(h=>h.trim()).filter(h=>h);typeof f=="function"&&f([...new Set(_)])}}).observe(i,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0})}class p extends HTMLElement{constructor(){super(),this.attrs=[],this._classList=new Set}setAttribute(f,u){super.setAttribute(f,u),this.attrs[f]&&(this.attrs[f].val=u)}connectedCallback(){let f,u=$tags.style(),c=$tags.div;n.add(r?this.attachShadow(r):this,u,c({id:"root"},s({attr:(_,h)=>this.attrs[_]??=n.state(this.getAttribute(_)??h),mount:_=>f=_,$this:this,attrChange:this.attributeChangedCallback,children:r?n.tags.slot():[...this.childNodes]}))),this._classList=new Set(l(this.shadowRoot.children)),this.rendCss(u),a(this.shadowRoot.querySelector("#root"),async _=>{this._classList.add(..._),this.rendCss(u)}),this.dismount=f?.()}disconnectedCallback(){this.dismount?.()}rendCss(f){let u=setInterval(()=>{if(typeof window.$renCssFromArray=="function"){clearInterval(u);let c=window.$renCssFromArray([...this._classList]);f.textContent=c.filter(_=>_.type=="default").map(_=>_.css).join(`
`)}},10)}}window.customElements.define(t,p)}return{defineElement:e}};var Ye=n=>{let e=0,{button:t,div:s,header:r,input:l,label:a,span:p,style:i}=n.tags,f=b=>Object.entries(b).map(([k,O])=>`${k}: ${O};`).join(""),u=b=>{},c=Object.getPrototypeOf(n.state(null)),_=b=>Object.getPrototypeOf(b??0)===c?b:n.state(b),h=({value:b,container:k=s,Loading:O,Error:v},S)=>{let x=n.state({status:"pending"});return b.then(L=>{x.val={status:"fulfilled",value:L}}).catch(L=>x.val={status:"rejected",value:L}),k(()=>x.val.status==="pending"?O?.()??"":x.val.status==="rejected"?v?.(x.val.value):S(x.val.value))},o=()=>++e,g=({title:b,closed:k=n.state(!1),x:O=100,y:v=100,width:S=300,height:x=200,closeCross:L="\xD7",customStacking:A=!1,zIndex:V=1,disableMove:j=!1,disableResize:W=!1,headerColor:F="lightgray",windowClass:w="",windowStyleOverrides:E={},headerClass:R="",headerStyleOverrides:T={},childrenContainerClass:P="",childrenContainerStyleOverrides:B={},crossClass:d="",crossStyleOverrides:m={},crossHoverClass:C="",crossHoverStyleOverrides:$={}},...z)=>{let D=_(O),q=_(v),M=_(S),Z=_(x),Q=_(V);A||(Q.val=o());let _e=n.state(!1),te=n.state(null),ne=n.state(0),se=n.state(0),Fe=n.state(0),Ie=n.state(0),re=C||Object.keys($)?n.state(!1):null,Ve=Y=>{Y.button===0&&(_e.val=!0,ne.val=Y.clientX,se.val=Y.clientY,document.body.style.userSelect="none")},Ae=Y=>he=>{te.val=Y,ne.val=he.clientX,se.val=he.clientY,Fe.val=M.val,Ie.val=Z.val,document.body.style.userSelect="none"},gt=Y=>{if(_e.val)D.val+=Y.clientX-ne.val,q.val+=Y.clientY-se.val,ne.val=Y.clientX,se.val=Y.clientY;else if(te.val){let he=Y.clientX-ne.val,yt=Y.clientY-se.val;te.val.includes("right")&&(M.val=Fe.val+he),te.val.includes("bottom")&&(Z.val=Ie.val+yt)}},bt=()=>{_e.val=!1,te.val=null,document.body.style.userSelect=""};return document.addEventListener("mousemove",gt),document.addEventListener("mouseup",bt),()=>k.val?null:s({class:["tjsui-window"].concat(w||[]).join(" "),style:()=>f({left:`${D.val}px`,top:`${q.val}px`,width:`${M.val}px`,height:`${Z.val}px`,"z-index":Q.val,...E}),...A?{}:{onmousedown:()=>Q.val=o()}},b?r({class:["tjsui-window-header"].concat(R||[]).join(" "),style:f({"background-color":F,...j?{cursor:"auto"}:{},...T}),...j?{}:{onmousedown:Ve}},b,L?p({class:()=>["tjsui-window-cross"].concat(d||[]).concat(C&&re.val?C:[]).join(" "),style:()=>f({...m,...Object.keys($).length&&re.val?$:{}}),onclick:()=>k.val=!0,...re?{onmouseenter:()=>re.val=!0,onmouseleave:()=>re.val=!1}:{}},L):null):j?null:s({class:"tjsui-window-dragarea",onmousedown:Ve}),W?[]:[s({class:"tjsui-window-resize-right",onmousedown:Ae("right")}),s({class:"tjsui-window-resize-bottom",onmousedown:Ae("bottom")}),s({class:"tjsui-window-resize-rightbottom",onmousedown:Ae("rightbottom")})],s({class:["tjsui-window-children"].concat(P||[]).join(" "),style:f(B)},z))};class y{_fadeOutSec;_messageClass;_messageStylesStr;_closerClass;_closerStylesStr;_dom;constructor({top:k="unset",bottom:O="unset",left:v="unset",right:S="unset",backgroundColor:x="#333D",fontColor:L="white",fadeOutSec:A=.3,boardClass:V="",boardStyleOverrides:j={},messageClass:W="",messageStyleOverrides:F={},closerClass:w="",closerStyleOverrides:E={}},R=document.body){v=="unset"&&(v=S==="unset"?"50%":"unset"),S=="unset"&&(S=v==="unset"?"50%":"unset"),k=="unset"&&(k=O==="unset"?"50%":"unset"),O=="unset"&&(O=k==="unset"?"50%":"unset");let T=f({display:"flex","flex-direction":"column","align-items":"center",position:"fixed",top:k,bottom:O,left:v,right:S,transform:"translateX(-50%)","z-index":1e4,...j});this._fadeOutSec=A,this._messageClass=W,this._messageStylesStr=f({display:"flex","background-color":x,color:L,padding:"15px","margin-bottom":"10px","border-radius":"5px",transition:`opacity ${A}s, transform ${A}s`,...F}),this._closerClass=w,this._closerStylesStr=f({display:"flex","align-items":"center","margin-left":"10px",cursor:"pointer",...E}),R.appendChild(this._dom=s({class:V,style:T}))}show({message:k,closer:O,durationSec:v,closed:S=n.state(!1)}){let x=n.state(!1);n.derive(()=>setTimeout(A=>x.val=A,this._fadeOutSec*1e3,S.val));let L=s({class:this._messageClass,style:this._messageStylesStr},s(k),O?s({class:this._closerClass,style:this._closerStylesStr,onclick:()=>S.val=!0},O):null);return n.derive(()=>S.val&&(L.style.opacity="0",L.style.transform="translateY(-20px)")),v&&setTimeout(()=>S.val=!0,v*1e3),n.add(this._dom,()=>x.val?null:L),L}remove(){this._dom.remove()}}return{Await:h,MessageBoard:y,topMostZIndex:o,FloatingWindow:g}};var J=Object.create(null);J.open="0",J.close="1",J.ping="2",J.pong="3",J.message="4",J.upgrade="5",J.noop="6";var be=Object.create(null);Object.keys(J).forEach(n=>{be[J[n]]=n});var Oe={type:"error",data:"parser error"},rt=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",it=typeof ArrayBuffer=="function",ot=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Te=({type:n,data:e},t,s)=>rt&&e instanceof Blob?t?s(e):He(e,s):it&&(e instanceof ArrayBuffer||ot(e))?t?s(e):He(new Blob([e]),s):s(J[n]+(e||"")),He=(n,e)=>{let t=new FileReader;return t.onload=function(){let s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(n)};function Ge(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var Ee,wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)ae[wt.charCodeAt(n)]=n;var xt=typeof ArrayBuffer=="function",Le=(n,e)=>{if(typeof n!="string")return{type:"message",data:at(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:vt(n.substring(1),e)}:be[t]?n.length>1?{type:be[t],data:n.substring(1)}:{type:be[t]}:Oe},vt=(n,e)=>{if(xt){let t=(s=>{let r,l,a,p,i,f=.75*s.length,u=s.length,c=0;s[s.length-1]==="="&&(f--,s[s.length-2]==="="&&f--);let _=new ArrayBuffer(f),h=new Uint8Array(_);for(r=0;r<u;r+=4)l=ae[s.charCodeAt(r)],a=ae[s.charCodeAt(r+1)],p=ae[s.charCodeAt(r+2)],i=ae[s.charCodeAt(r+3)],h[c++]=l<<2|a>>4,h[c++]=(15&a)<<4|p>>2,h[c++]=(3&p)<<6|63&i;return _})(n);return at(t,e)}return{base64:!0,data:n}},at=(n,e)=>e==="blob"?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer,Je="";function kt(){return new TransformStream({transform(n,e){(function(t,s){rt&&t.data instanceof Blob?t.data.arrayBuffer().then(Ge).then(s):it&&(t.data instanceof ArrayBuffer||ot(t.data))?s(Ge(t.data)):Te(t,!1,r=>{Ee||(Ee=new TextEncoder),s(Ee.encode(r))})})(n,t=>{let s=t.length,r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);let l=new DataView(r.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{r=new Uint8Array(9);let l=new DataView(r.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}var Ce;function fe(n){return n.reduce((e,t)=>e+t.length,0)}function pe(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),s=0;for(let r=0;r<e;r++)t[r]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),t}function I(n){if(n)return function(e){for(var t in I.prototype)e[t]=I.prototype[t];return e}(n)}I.prototype.on=I.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},I.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},I.prototype.off=I.prototype.removeListener=I.prototype.removeAllListeners=I.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t,s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r=0;r<s.length;r++)if((t=s[r])===e||t.fn===e){s.splice(r,1);break}return s.length===0&&delete this._callbacks["$"+n],this},I.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){s=0;for(var r=(t=t.slice(0)).length;s<r;++s)t[s].apply(this,e)}return this},I.prototype.emitReserved=I.prototype.emit,I.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},I.prototype.hasListeners=function(n){return!!this.listeners(n).length};var H=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function lt(n,...e){return e.reduce((t,s)=>(n.hasOwnProperty(s)&&(t[s]=n[s]),t),{})}var St=H.setTimeout,_t=H.clearTimeout;function ve(n,e){e.useNativeTimers?(n.setTimeoutFn=St.bind(H),n.clearTimeoutFn=_t.bind(H)):(n.setTimeoutFn=H.setTimeout.bind(H),n.clearTimeoutFn=H.clearTimeout.bind(H))}var Ne=class extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}},le=class extends I{constructor(e){super(),this.writable=!1,ve(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,s){return super.emitReserved("error",new Ne(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Le(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=function(s){let r="";for(let l in s)s.hasOwnProperty(l)&&(r.length&&(r+="&"),r+=encodeURIComponent(l)+"="+encodeURIComponent(s[l]));return r}(e);return t.length?"?"+t:""}},ct="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Re=64,At={},Xe,Ze=0,me=0;function Qe(n){let e="";do e=ct[n%Re]+e,n=Math.floor(n/Re);while(n>0);return e}function et(){let n=Qe(+new Date);return n!==Xe?(Ze=0,Xe=n):n+"."+Qe(Ze++)}for(;me<Re;me++)At[ct[me]]=me;var dt=!1;try{dt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Et=dt;function ut(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Et))return new XMLHttpRequest}catch{}if(!e)try{return new H[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Ct(){}var Ot=new ut({xdomain:!1}).responseType!=null,X=class n extends I{constructor(e,t){super(),ve(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=lt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let s=this.xhr=new ut(t);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){return void this.setTimeoutFn(()=>{this.onError(r)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(this.xhr!==void 0&&this.xhr!==null){if(this.xhr.onreadystatechange=Ct,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};X.requestsCount=0,X.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",tt):typeof addEventListener=="function"&&addEventListener("onpagehide"in H?"pagehide":"unload",tt,!1));function tt(){for(let n in X.requests)X.requests.hasOwnProperty(n)&&X.requests[n].abort()}var Be=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),ge=H.WebSocket||H.MozWebSocket,nt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Tt={websocket:class extends le{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let n=this.uri(),e=this.opts.protocols,t=nt?{}:lt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=nt?new ge(n,e,t):e?new ge(n,e):new ge(n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],s=e===n.length-1;Te(t,this.supportsBinary,r=>{try{this.ws.send(r)}catch{}s&&Be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=et()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}check(){return!!ge}},webtransport:class extends le{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{let e=function(a,p){Ce||(Ce=new TextDecoder);let i=[],f=0,u=-1,c=!1;return new TransformStream({transform(_,h){for(i.push(_);;){if(f===0){if(fe(i)<1)break;let o=pe(i,1);c=(128&o[0])==128,u=127&o[0],f=u<126?3:u===126?1:2}else if(f===1){if(fe(i)<2)break;let o=pe(i,2);u=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),f=3}else if(f===2){if(fe(i)<8)break;let o=pe(i,8),g=new DataView(o.buffer,o.byteOffset,o.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){h.enqueue(Oe);break}u=y*Math.pow(2,32)+g.getUint32(4),f=3}else{if(fe(i)<u)break;let o=pe(i,u);h.enqueue(Le(c?o:Ce.decode(o),p)),f=0}if(u===0||u>a){h.enqueue(Oe);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),s=kt();s.readable.pipeTo(n.writable),this.writer=s.writable.getWriter();let r=()=>{t.read().then(({done:a,value:p})=>{a||(this.onPacket(p),r())}).catch(a=>{})};r();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],s=e===n.length-1;this.writer.write(t).then(()=>{s&&Be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}},polling:class extends le{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){let t=location.protocol==="https:",s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}let e=n&&n.forceBase64;this.supportsBinary=Ot&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((e,t)=>{let s=e.split(Je),r=[];for(let l=0;l<s.length;l++){let a=Le(s[l],t);if(r.push(a),a.type==="error")break}return r})(n,this.socket.binaryType).forEach(e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,((e,t)=>{let s=e.length,r=new Array(s),l=0;e.forEach((a,p)=>{Te(a,!1,i=>{r[p]=i,++l===s&&t(r.join(Je))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=et()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(n,e)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new X(this.uri(),n)}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}}},Lt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ze(n){let e=n,t=n.indexOf("["),s=n.indexOf("]");t!=-1&&s!=-1&&(n=n.substring(0,t)+n.substring(t,s).replace(/:/g,";")+n.substring(s,n.length));let r=Lt.exec(n||""),l={},a=14;for(;a--;)l[Nt[a]]=r[a]||"";return t!=-1&&s!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(p,i){let f=/\/{2,9}/g,u=i.replace(f,"/").split("/");return i.slice(0,1)!="/"&&i.length!==0||u.splice(0,1),i.slice(-1)=="/"&&u.splice(u.length-1,1),u}(0,l.path),l.queryKey=function(p,i){let f={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,c,_){c&&(f[c]=_)}),f}(0,l.query),l}var we=class n extends I{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=ze(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=ze(t.host).host),ve(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=function(s){let r={},l=s.split("&");for(let a=0,p=l.length;a<p;a++){let i=l[a].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);let s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Tt[e](s)}open(){let e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(this.transports.length===0)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),s=!1;n.priorWebsocketSuccess=!1;let r=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",c=>{if(!s)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;n.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let _=new Error("probe error");_.transport=t.name,this.emitReserved("upgradeError",_)}}))};function l(){s||(s=!0,u(),t.close(),t=null)}let a=c=>{let _=new Error("probe error: "+c);_.transport=t.name,l(),this.emitReserved("upgradeError",_)};function p(){a("transport closed")}function i(){a("socket closed")}function f(c){t&&c.name!==t.name&&l()}let u=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",p),this.off("close",i),this.off("upgrading",f)};t.once("open",r),t.once("error",a),t.once("close",p),this.once("close",i),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let s=0;s<this.writeBuffer.length;s++){let r=this.writeBuffer[s].data;if(r&&(e+=typeof(t=r)=="string"?function(l){let a=0,p=0;for(let i=0,f=l.length;i<f;i++)a=l.charCodeAt(i),a<128?p+=1:a<2048?p+=2:a<55296||a>=57344?p+=3:(i++,p+=4);return p}(t):Math.ceil(1.33*(t.byteLength||t.size))),s>0&&e>this.maxPayload)return this.writeBuffer.slice(0,s);e+=2}var t;return this.writeBuffer}write(e,t,s){return this.sendPacket("message",e,t,s),this}send(e,t,s){return this.sendPacket("message",e,t,s),this}sendPacket(e,t,s,r){if(typeof t=="function"&&(r=t,t=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;(s=s||{}).compress=s.compress!==!1;let l={type:e,data:t,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),r&&this.once("flush",r),this.flush()}close(){let e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}onError(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],s=0,r=e.length;for(;s<r;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}};we.protocol=4;var Rt=typeof ArrayBuffer=="function",Bt=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ht=Object.prototype.toString,zt=typeof Blob=="function"||typeof Blob<"u"&&ht.call(Blob)==="[object BlobConstructor]",Pt=typeof File=="function"||typeof File<"u"&&ht.call(File)==="[object FileConstructor]";function qe(n){return Rt&&(n instanceof ArrayBuffer||Bt(n))||zt&&n instanceof Blob||Pt&&n instanceof File}function ye(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,s=n.length;t<s;t++)if(ye(n[t]))return!0;return!1}if(qe(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ye(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&ye(n[t]))return!0;return!1}function Dt(n){let e=[],t=n.data,s=n;return s.data=Pe(t,e),s.attachments=e.length,{packet:s,buffers:e}}function Pe(n,e){if(!n)return n;if(qe(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){let t=new Array(n.length);for(let s=0;s<n.length;s++)t[s]=Pe(n[s],e);return t}if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=Pe(n[s],e));return t}return n}function $t(n,e){return n.data=De(n.data,e),delete n.attachments,n}function De(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=De(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=De(n[t],e));return n}var jt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var N;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(N||(N={}));function st(n){return Object.prototype.toString.call(n)==="[object Object]"}var $e=class n extends I{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let s=t.type===N.BINARY_EVENT;s||t.type===N.BINARY_ACK?(t.type=s?N.EVENT:N.ACK,this.reconstructor=new je(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!qe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0,s={type:Number(e.charAt(0))};if(N[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===N.BINARY_EVENT||s.type===N.BINARY_ACK){let l=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let a=e.substring(l,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(e.charAt(t+1)==="/"){let l=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(l,t)}else s.nsp="/";let r=e.charAt(t+1);if(r!==""&&Number(r)==r){let l=t+1;for(;++t;){let a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}s.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){let l=this.tryParse(e.substr(t));if(!n.isPayloadValid(s.type,l))throw new Error("invalid payload");s.data=l}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case N.CONNECT:return st(t);case N.DISCONNECT:return t===void 0;case N.CONNECT_ERROR:return typeof t=="string"||st(t);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&jt.indexOf(t[0])===-1);case N.ACK:case N.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},je=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=$t(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}},qt=Object.freeze({__proto__:null,protocol:5,get PacketType(){return N},Encoder:class{constructor(n){this.replacer=n}encode(n){return n.type!==N.EVENT&&n.type!==N.ACK||!ye(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let e=""+n.type;return n.type!==N.BINARY_EVENT&&n.type!==N.BINARY_ACK||(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=Dt(n),t=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(t),s}},Decoder:$e});function G(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Ft=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),xe=class extends I{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[G(e,"open",this.onopen.bind(this)),G(e,"packet",this.onpacket.bind(this)),G(e,"error",this.onerror.bind(this)),G(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ft.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:N.EVENT,data:t,options:{}};if(s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let l=this.ids++,a=t.pop();this._registerAckCallback(l,a),s.id=l}let r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var s;let r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0)return void(this.acks[e]=t);let l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===e&&this.sendBuffer.splice(p,1);t.call(this,new Error("operation has timed out"))},r),a=(...p)=>{this.io.clearTimeoutFn(l),t.apply(this,p)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((s,r)=>{let l=(a,p)=>a?r(a):s(p);l.withError=!0,t.push(l),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...l)=>{if(s===this._queue[0])return r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...l)),s.pending=!1,this._drainQueue()}),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case N.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(e);break;case N.ACK:case N.BINARY_ACK:this.onack(e);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();let t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,s=!1;return function(...r){s||(s=!0,t.packet({type:N.ACK,id:e,data:r}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:N.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let s of t)s.apply(this,e.data)}}};function ee(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ee.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},ee.prototype.reset=function(){this.attempts=0},ee.prototype.setMin=function(n){this.ms=n},ee.prototype.setMax=function(n){this.max=n},ee.prototype.setJitter=function(n){this.jitter=n};var de=class extends I{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,ve(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ee({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let r=t.parser||qt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new we(this.uri,this.opts);let t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;let r=G(t,"open",function(){s.onopen(),e&&e()}),l=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),e?e(p):this.maybeReconnectOnOpen()},a=G(t,"error",l);if(this._timeout!==!1){let p=this._timeout,i=this.setTimeoutFn(()=>{r(),l(new Error("timeout")),t.close()},p);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(G(e,"ping",this.onping.bind(this)),G(e,"data",this.ondata.bind(this)),G(e,"error",this.onerror.bind(this)),G(e,"close",this.onclose.bind(this)),G(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Be(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new xe(this,e,t),this.nsps[e]=s),s}_destroy(e){let t=Object.keys(this.nsps);for(let s of t)if(this.nsps[s].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}},oe={};function ce(n,e){typeof n=="object"&&(e=n,n=void 0);let t=function(i,f="",u){let c=i;u=u||typeof location<"u"&&location,i==null&&(i=u.protocol+"//"+u.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i=i.charAt(1)==="/"?u.protocol+i:u.host+i),/^(https?|wss?):\/\//.test(i)||(i=u!==void 0?u.protocol+"//"+i:"https://"+i),c=ze(i)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";let _=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+_+":"+c.port+f,c.href=c.protocol+"://"+_+(u&&u.port===c.port?"":":"+c.port),c}(n,(e=e||{}).path||"/socket.io"),s=t.source,r=t.id,l=t.path,a=oe[r]&&l in oe[r].nsps,p;return e.forceNew||e["force new connection"]||e.multiplex===!1||a?p=new de(s,e):(oe[r]||(oe[r]=new de(s,e)),p=oe[r]),t.query&&!e.query&&(e.query=t.queryKey),p.socket(t.path,e)}Object.assign(ce,{Manager:de,Socket:xe,io:ce,connect:ce});var It=Object.prototype.hasOwnProperty,K="~";function ue(){}Object.create&&(ue.prototype=Object.create(null),new ue().__proto__||(K=!1));function Vt(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function ft(n,e,t,s,r){if(typeof t!="function")throw new TypeError("The listener must be a function");var l=new Vt(t,s||n,r),a=K?K+e:e;return n._events[a]?n._events[a].fn?n._events[a]=[n._events[a],l]:n._events[a].push(l):(n._events[a]=l,n._eventsCount++),n}function ke(n,e){--n._eventsCount===0?n._events=new ue:delete n._events[e]}function U(){this._events=new ue,this._eventsCount=0}U.prototype.eventNames=function(){var e=[],t,s;if(this._eventsCount===0)return e;for(s in t=this._events)It.call(t,s)&&e.push(K?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};U.prototype.listeners=function(e){var t=K?K+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var r=0,l=s.length,a=new Array(l);r<l;r++)a[r]=s[r].fn;return a};U.prototype.listenerCount=function(e){var t=K?K+e:e,s=this._events[t];return s?s.fn?1:s.length:0};U.prototype.emit=function(e,t,s,r,l,a){var p=K?K+e:e;if(!this._events[p])return!1;var i=this._events[p],f=arguments.length,u,c;if(i.fn){switch(i.once&&this.removeListener(e,i.fn,void 0,!0),f){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,t),!0;case 3:return i.fn.call(i.context,t,s),!0;case 4:return i.fn.call(i.context,t,s,r),!0;case 5:return i.fn.call(i.context,t,s,r,l),!0;case 6:return i.fn.call(i.context,t,s,r,l,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];i.fn.apply(i.context,u)}else{var _=i.length,h;for(c=0;c<_;c++)switch(i[c].once&&this.removeListener(e,i[c].fn,void 0,!0),f){case 1:i[c].fn.call(i[c].context);break;case 2:i[c].fn.call(i[c].context,t);break;case 3:i[c].fn.call(i[c].context,t,s);break;case 4:i[c].fn.call(i[c].context,t,s,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];i[c].fn.apply(i[c].context,u)}}return!0};U.prototype.on=function(e,t,s){return ft(this,e,t,s,!1)};U.prototype.once=function(e,t,s){return ft(this,e,t,s,!0)};U.prototype.removeListener=function(e,t,s,r){var l=K?K+e:e;if(!this._events[l])return this;if(!t)return ke(this,l),this;var a=this._events[l];if(a.fn)a.fn===t&&(!r||a.once)&&(!s||a.context===s)&&ke(this,l);else{for(var p=0,i=[],f=a.length;p<f;p++)(a[p].fn!==t||r&&!a[p].once||s&&a[p].context!==s)&&i.push(a[p]);i.length?this._events[l]=i.length===1?i[0]:i:ke(this,l)}return this};U.prototype.removeAllListeners=function(e){var t;return e?(t=K?K+e:e,this._events[t]&&ke(this,t)):(this._events=new ue,this._eventsCount=0),this};U.prototype.off=U.prototype.removeListener;U.prototype.addListener=U.prototype.on;U.prefixed=K;U.EventEmitter=U;var Se=U;var pt=LibCSS={default:["::before, ::after { box-sizing: border-box;  border-width: 0; border-style: solid; border-color: var(--un-default-border-color, #e5e7eb);}",'::before, ::after {  --un-content: ""; }','html, :host { line-height: 1.5; -webkit-text-size-adjust: 100%; -moz-tab-size: 4;tab-size: 4;font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; font-feature-settings: normal; font-variation-settings: normal; -webkit-tap-highlight-color: transparent;}',"body { margin: 0;line-height: inherit;}","hr { height: 0; color: inherit; border-top-width: 1px;}","abbr:where([title]) { text-decoration: underline dotted; }","h1, h2, h3, h4, h5, h6 {font-size: inherit; font-weight: inherit; }","a {color: inherit; text-decoration: inherit; }","b, strong {font-weight: bolder; }",'code, kbd, samp, pre {font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings: normal;font-variation-settings: normal;font-size: 1em;}',"small {font-size: 80%; }","sub, sup {font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }","sub {bottom: -0.25em;}","sup {top: -0.5em;}","table { text-indent: 0; border-color: inherit; border-collapse: collapse;}","button, input, optgroup, select, textarea {font-family: inherit;font-feature-settings: inherit;font-variation-settings: inherit;font-size: 100%;font-weight: inherit;line-height: inherit;color: inherit;margin: 0;padding: 0;}","button, select { text-transform: none;}",'button, [type="button"], [type="reset"], [type="submit"] {-webkit-appearance: button;background-color: transparent;background-image: none;}',":-moz-focusring {outline: auto;}",":-moz-ui-invalid { box-shadow: none;}","progress {vertical-align: baseline;}","::-webkit-inner-spin-button, ::-webkit-outer-spin-button { height: auto;}",'[type="search"] { -webkit-appearance: textfield; outline-offset: -2px;}',"::-webkit-search-decoration {-webkit-appearance: none;}","::-webkit-file-upload-button {-webkit-appearance: button;font: inherit;}","summary {display: list-item;}","blockquote, dl, dd, h1, h2, h3, h4, h5, h6, hr, figure, p, pre {margin: 0;}","fieldset {margin: 0;padding: 0;}","legend {padding: 0;}","ol, ul, menu {list-style: none;margin: 0;padding: 0;}","dialog {padding: 0;}","textarea {resize: vertical;}","input::placeholder, textarea::placeholder {opacity: 1;color: #9ca3af;}",'button, [role="button"] {cursor: pointer;}',":disabled {cursor: default;}","img, svg, video, canvas, audio, iframe, embed, object {display: block;vertical-align: middle;}","img, video {max-width: 100%;height: auto;}","[hidden] {display: none;}",".tjsui-window { position: fixed;background-color: white;border: 1px solid black;border-radius: 0.5rem;overflow: hidden; }",".tjsui-window-dragarea { cursor: move;position: absolute;left: 0;top: 0;width: 100%;height: 1rem; }",".tjsui-window-resize-right { cursor: e-resize;position: absolute;right: 0;top: 0;width: 10px;height: 100%;background-color: transparent; }",".tjsui-window-resize-bottom { cursor: s-resize;position: absolute;left: 0;bottom: 0;width: 100%;height: 10px;background-color: transparent; }",".tjsui-window-resize-rightbottom { cursor: se-resize;position: absolute;right: 0;bottom: 0;width: 10px;height: 10px;background-color: transparent; }",".tjsui-window-header { cursor: move;user-select: none;display: flex;justify-content: space-between;align-items: center;padding: 0.5rem; }",".tjsui-window-cross { cursor: pointer;font-family: Arial;transition: background-color 0.3s, color 0.3s;border-radius: 50%;width: 24px;height: 24px;display: flex;align-items: center;justify-content: center; }",".tjsui-window-cross:hover { background-color: red;color: white; }",".tjsui-window-children { padding: 0.5rem; }"],data:{wlc:{names:["-webkit-line-clamp"],default:"3"},wtfc:{names:["-webkit-text-fill-color"]},wts:{names:["-webkit-text-stroke"]},wtsc:{names:["-webkit-text-stroke-color"]},wtsw:{names:["-webkit-text-stroke-width"],default:"thin",exts:{m:"medium",t:"thick"}},acc:{names:["accent-color"],default:"auto",exts:{u:"unset"}},ac:{names:["align-content"],default:"center",exts:{s:"start",e:"end",fs:"flex-start",fe:"flex-end",n:"normal",b:"baseline",fb:"first baseline",lb:"last baseline",sp:"space-between",sa:"space-around",se:"space-evenly",st:"stretch",sc:"safe center",uc:"unsafe center"}},ai:{names:["align-items"],default:"stretch",exts:{n:"normal",c:"center",s:"start",e:"end",fs:"flex-start",fe:"flex-end",ss:"self-start",se:"self-end",b:"baseline",fb:"first baseline",lb:"last baseline",sc:"safe center",uc:"unsafe center"}},as:{names:["align-self"],default:"auto",exts:{n:"normal",c:"center",s:"start",e:"end",ss:"self-start",se:"self-end",fs:"flex-start",fe:"flex-end",b:"baseline",fb:"first baseline",lb:"last baseline",st:"stretch",sc:"safe center",uc:"unsafe center"}},a:{names:["all"]},ani:{names:["animation"]},anic:{names:["animation-composition"],default:"replace",exts:{r:"replace",a:"add",ac:"accumulate",ra:"replace, add",aac:"add, accumulate",raac:"replace, add, accumulate"}},anide:{names:["animation-delay"],default:"250ms"},anidi:{names:["animation-direction"],default:"normal",exts:{r:"reverse",a:"alternate",ar:"alternate-reverse",nr:"normal, reverse",arn:"alternate, reverse, normal"}},anidu:{names:["animation-duration"],default:"750ms"},anifm:{names:["animation-fill-mode"],default:"both",exts:{n:"none",f:"forwards",b:"backwards",nb:"none, backwards",fbn:"both, forwards, none"}},aniic:{names:["animation-iteration-count"],default:"infinite"},anin:{names:["animation-name"],default:"bounce",exts:{n:"None",s:"slide"}},anips:{names:["animation-play-state"],defaut:"running",exts:{p:"paused",r:"running"}},anitf:{names:["animation-timing-function"],default:"ease",exts:{ei:"ease-in",eo:"ease-out",eio:"ease-in-out",l:"linear",ss:"step-start",se:"step-end"}},ap:{names:["appearance"],default:"auto",exts:{n:"none",mb:"menulist-button",tf:"textfield",b:"button",c:"checkbox"}},ar:{names:["aspect-ratio"],default:"auto",exts:{a:"auto",s:"1 / 1",v:"16 / 9"}},bkdf:{names:["backdrop-filter"],default:"none"},bkfv:{names:["backface-visibility"],default:"visible",exts:{h:"hidden"}},bg:{names:["background"]},bga:{names:["background-attachment"],default:"scroll",exts:{s:"scroll",f:"fixed",l:"local"}},bgbm:{names:["background-blend-mode"],default:"normal",exts:{n:"normal",m:"multiply",s:"screen",o:"overlay",d:"darken",l:"lighten",cd:"color-dodge",i:"color-burn",hl:"hard-light",sl:"soft-light",di:"difference",e:"exclusion",h:"hue",sa:"saturation",c:"color",lu:"luminosity"}},bgcl:{names:["background-clip"],default:"border-box",exts:{bb:"border-box",pb:"padding-box",cb:"content-box",t:"text"}},bgc:{names:["background-color"],default:"transparent",exts:{t:"transparent",c:"currentcolor"}},bgi:{names:["background-image"],exts:{n:"none"}},bgo:{names:["background-origin"],default:"padding-box",exts:{bb:"border-box",pb:"padding-box",cb:"content-box"}},bgp:{names:["background-position"],default:"0% 0%",exts:{t:"top",b:"bottom",l:"left",r:"right",c:"center",lt:"left top",ct:"center top",rt:"right top",lc:"left center",cc:"center center",rc:"right center",lb:"left bottom",cb:"center bottom",rb:"right bottom"}},bgpx:{names:["background-position-x"],default:"center",exts:{l:"left",r:"right",c:"center"}},bgpy:{names:["background-position-y"],default:"center",exts:{t:"top",b:"bottom",c:"center"}},bgr:{names:["background-repeat"],default:"repeat",exts:{r:"repeat",x:"repeat-x",y:"repeat-y",s:"space",rn:"round",n:"no-repeat",rs:" repeat space",rr:"repeat repeat",nr:"no-repeat round"}},bgs:{names:["background-size"],default:"cover",exts:{a:"auto",c:"contain"}},blks:{names:["block-size"]},bd:{names:["border"],default:"solid",exts:{n:"none",h:"hidden",d:"dotted",ds:"dashed",db:"double",g:"groove",r:"ridge",i:"inset",o:"outset"}},bdblk:{names:["border-block"]},bdblc:{names:["border-block-color"]},bdble:{names:["border-block-end"]},bdblec:{names:["border-block-end-color"]},bdbles:{names:["border-block-end-style"],default:"solid",exts:{n:"none",h:"hidden",d:"dotted",ds:"dashed",db:"double",g:"groove",r:"ridge",i:"inset",o:"outset"}},bdblew:{names:["border-block-end-width"]},bdbls:{names:["border-block-start"]},bdblsc:{names:["border-block-start-color"]},bdblss:{names:["border-block-start-style"],default:"solid",exts:{n:"none",h:"hidden",d:"dotted",ds:"dashed",db:"double",g:"groove",r:"ridge",i:"inset",o:"outset"}},bdblsw:{names:["border-block-start-width"]},bdblst:{names:["border-block-style"],default:"solid",exts:{n:"none",h:"hidden",d:"dotted",ds:"dashed",db:"double",g:"groove",r:"ridge",i:"inset",o:"outset"}},bdblwi:{names:["border-block-width"]},bdb:{names:["border-bottom"]},bdbc:{names:["border-bottom-color"]},bdblr:{names:["border-bottom-left-radius"]},bdbrr:{names:["border-bottom-right-radius"]},bdbst:{names:["border-bottom-style"],default:"solid",exts:{n:"none",h:"hidden",d:"dotted",ds:"dashed",db:"double",g:"groove",r:"ridge",i:"inset",o:"outset"}},bdbw:{names:["border-bottom-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},bdcl:{names:["border-collapse"],default:"collapse",exts:{s:"separate",c:"collapse"}},bdc:{names:["border-color"]},bdeer:{names:["border-end-end-radius"]},bdesr:{names:["border-end-start-radius"]},bdimg:{names:["border-image"]},bdio:{names:["border-image-outset"]},bdir:{names:["border-image-repeat"],default:"stretch",exts:{st:"stretch",r:"repeat",rn:"round",s:"space"}},bdis:{names:["border-image-slice"]},bdisrc:{names:["border-image-source"]},bdiw:{names:["border-image-width"]},bdi:{names:["border-inline"]},bdic:{names:["border-inline-color"]},bdie:{names:["border-inline-end"]},bdiec:{names:["border-inline-end-color"]},bdies:{names:["border-inline-end-style"]},bdiew:{names:["border-inline-end-width"]},bdista:{names:["border-inline-start"]},bdisc:{names:["border-inline-start-color"]},bdiss:{names:["border-inline-start-style"]},bdisw:{names:["border-inline-start-width"]},bdistl:{names:["border-inline-style"]},bdinw:{names:["border-inline-width"]},bdl:{names:["border-left"],default:"solid",exts:{n:"none"}},bdlc:{names:["border-left-color"]},bdls:{names:["border-left-style"]},bdlw:{names:["border-left-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},bda:{names:["border-radius"]},bdr:{names:["border-right"],default:"solid",exts:{n:"none"}},bdrc:{names:["border-right-color"]},bdrs:{names:["border-right-style"],default:"solid",exts:{n:"none",h:"hidden",dt:"dotted",ds:"dashed",s:"solid",db:"double",g:"groove",r:"ridge",in:"inset",out:"outset"}},bdrw:{names:["border-right-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},bdsp:{names:["border-spacing"]},bdser:{names:["border-start-end-radius"]},bdssr:{names:["border-start-start-radius"]},bds:{names:["border-style"],default:"solid",exts:{n:"none",h:"hidden",dt:"dotted",ds:"dashed",s:"solid",db:"double",g:"groove",r:"ridge",in:"inset",out:"outset"}},bdt:{names:["border-top"],default:"solid",exts:{n:"none"}},bdtc:{names:["border-top-color"]},bdtlr:{names:["border-top-left-radius"]},bdtrr:{names:["border-top-right-radius"]},bdts:{names:["border-top-style"],default:"solid",exts:{n:"none",h:"hidden",dt:"dotted",ds:"dashed",s:"solid",db:"double",g:"groove",r:"ridge",in:"inset",out:"outset"}},bdtw:{names:["border-top-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},bdw:{names:["border-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},b:{names:["bottom"],default:"0px",exts:{a:"auto"}},bdbr:{names:["box-decoration-break"],default:"clone",exts:{c:"clone",s:"slice"}},bxshd:{names:["box-shadow"]},bxsz:{names:["box-sizing"]},brka:{names:["break-after"]},brkb:{names:["break-before"]},brki:{names:["break-inside"]},caps:{names:["caption-side"]},crtc:{names:["caret-color"]},clr:{names:["clear"]},clpp:{names:["clip-path"]},c:{names:["color"],exts:{i:"inherit",c:"currentColor",t:"transparent"}},cip:{names:["color-interpolation"]},csch:{names:["color-scheme"]},colc:{names:["column-count"]},colf:{names:["column-fill"]},colg:{names:["column-gap"]},colr:{names:["column-rule"]},colrc:{names:["column-rule-color"]},colrs:{names:["column-rule-style"]},colrw:{names:["column-rule-width"]},cols:{names:["column-span"]},colw:{names:["column-width"]},col:{names:["columns"],default:"auto",exts:{a:"auto"}},cnt:{names:["contain"]},cntibs:{names:["contain-intrinsic-block-size"]},cntih:{names:["contain-intrinsic-height"]},cntiis:{names:["contain-intrinsic-inline-size"]},cntis:{names:["contain-intrinsic-size"]},ciw:{names:["contain-intrinsic-width"]},ctr:{names:["container"]},ctrn:{names:["container-name"]},ctrt:{names:["container-type"]},ctt:{names:["content"]},cntri:{names:["counter-increment"]},cntrr:{names:["counter-reset"]},cntrs:{names:["counter-set"]},cr:{names:["cursor"],default:"pointer",exts:{a:"auto",d:"default",n:"none",cm:"context-menu",h:"help",pg:"progress",w:"wait",c:"cell",cr:"crosshair",t:"text",vt:"vertical-text",al:"alias",cp:"copy",mo:"move",nd:"no-drop",na:"not-allowed",gr:"grab",gb:"grabbing",as:"all-scroll",colr:"col-resize",rr:"row-resize",nr:"n-resize",er:"e-resize",sr:"s-resize",wr:"w-resize",ner:"ne-resize",ser:"se-resize",swr:"sw-resize",ewr:"ew-resize",nsr:"ns-resize",nesw:"nesw-resize",nwse:"nwse-resize",zi:"zoom-in",zo:"zoom-out"}},dir:{names:["direction"]},d:{names:["display"],default:"block",exts:{b:"block",ib:"inline-block",i:"inline",f:"flex",if:"inline-flex",t:"table",it:"inline-table",tcp:"table-caption",tcell:"table-cell",tcol:"table-column",tcolg:"table-column-group",tfg:"table-footer-group",thg:"table-header-group",trg:"table-row-group",tr:"table-row",fr:"flow-root",g:"grid",ig:"inline-grid",c:"contents",li:"list-item",n:"none"}},empc:{names:["empty-cells"]},flt:{names:["filter"],default:"none",exts:{n:"none"}},fx:{names:["flex"],default:"auto",exts:{1:"1 1 0%",n:"none",i:"0 1 auto",a:"1 1 auto"}},fxb:{names:["flex-basis"],default:"0",exts:{a:"auto"}},fxd:{names:["flex-direction"],default:"row",exts:{r:"row",rr:"row-reverse",c:"column",cr:"column-reverse"}},fxf:{names:["flex-flow"]},fxg:{names:["flex-grow"],default:"1"},fxs:{names:["flex-shrink"],default:"0"},fxw:{names:["flex-wrap"],default:"wrap",exts:{w:"wrap",wr:"wrap-reverse",n:"nowrap"}},fl:{names:["float"],default:"none",exts:{is:"inline-start",ie:"inline-end",r:"right",l:"left",n:"none"}},fn:{names:["font"]},ff:{names:["font-family"],default:"sans-serif",exts:{a:"ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",s:"ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif",m:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"}},fnfs:{names:["font-feature-settings"]},fnk:{names:["font-kerning"]},fnlo:{names:["font-language-override"]},fnos:{names:["font-optical-sizing"]},fnp:{names:["font-palette"]},fns:{names:["font-size"]},fnsa:{names:["font-size-adjust"]},fnstr:{names:["font-stretch"]},fnsty:{names:["font-style"]},fnsyn:{names:["font-synthesis"]},fnsp:{names:["font-synthesis-position"]},fnssc:{names:["font-synthesis-small-caps"]},fnss:{names:["font-synthesis-style"]},fnsw:{names:["font-synthesis-weight"]},fnv:{names:["font-variant"]},fnva:{names:["font-variant-alternates"]},fnvc:{names:["font-variant-caps"]},fnvea:{names:["font-variant-east-asian"]},fnve:{names:["font-variant-emoji"]},fnvl:{names:["font-variant-ligatures"]},fnvn:{names:["font-variant-numeric"]},fnvp:{names:["font-variant-position"]},fnvs:{names:["font-variation-settings"]},fw:{names:["font-weight"],default:"100"},fca:{names:["forced-color-adjust"]},gap:{names:["gap"],default:"0px"},g:{names:["grid"]},ga:{names:["grid-area"]},gac:{names:["grid-auto-columns"],default:"auto",exts:{a:"auto",mic:"min-content",mac:"max-content",mm:"minmax(0, 1fr)"}},gaf:{names:["grid-auto-flow"],default:"row",exts:{r:"row",c:"column",d:"dense",rd:"row dense",cd:"column dense"}},gar:{names:["grid-auto-rows"],default:"auto",exts:{a:"auto",mic:"min-content",mac:"max-content",mm:"minmax(0, 1fr)"}},gc:{names:["grid-column"],default:"auto",exts:{a:"auto",f:"1 / -1"}},gce:{names:["grid-column-end"],default:"auto",exts:{a:"auto"}},gcs:{names:["grid-column-start"],default:"auto",exts:{a:"auto"}},gr:{names:["grid-row"],default:"auto",exts:{a:"auto",f:"1 / -1"}},gre:{names:["grid-row-end"],default:"auto",exts:{a:"auto"}},grs:{names:["grid-row-start"],default:"auto",exts:{a:"auto"}},gt:{names:["grid-template"]},gta:{names:["grid-template-areas"]},gtc:{names:["grid-template-columns"],default:"repeat(12, minmax(0, 1fr))",exts:{n:"none",s:"subgrid"}},gtr:{names:["grid-template-rows"],default:"repeat(12, minmax(0, 1fr))",exts:{n:"none",s:"subgrid"}},hp:{names:["hanging-punctuation"]},h:{names:["height"],default:"auto",exts:{a:"auto",mic:"min-content",mac:"max-content",fc:"fit-content"}},hc:{names:["hyphenate-character"]},hlc:{names:["hyphenate-limit-chars"]},hyp:{names:["hyphens"],default:"none",exts:{a:"auto",n:"none",m:"manual"}},imgo:{names:["image-orientation"]},imgr:{names:["image-rendering"]},ins:{names:["inline-size"]},i:{names:["inset"],default:"0px"},iblk:{names:["inset-block"]},ibe:{names:["inset-block-end"]},ibsta:{names:["inset-block-start"]},ii:{names:["inset-inline"]},iie:{names:["inset-inline-end"],default:"0px"},iis:{names:["inset-inline-start"],default:"0px"},is:{names:["isolation"],default:"auto",exts:{i:"isolate",a:"auto"}},jc:{names:["justify-content"],default:"start",exts:{c:"center",s:"start",e:"end",fs:"flex-start",fe:"flex-end",l:"left",r:"right",n:"normal",sp:"space-between",sa:"space-around",se:"space-evenly",st:"stretch",sc:"safe center",uc:"unsafe center"}},ji:{names:["justify-items"],default:"stretch",exts:{n:"normal",st:"stretch",c:"center",s:"start",e:"end",fs:"flex-start",fe:"flex-end",ss:"self-start",se:"self-end",l:"left",r:"right",b:"baseline",fb:"first baseline",lb:"last baseline",lr:"legacy right",ll:"legacy left",lc:"legacy center",sc:"safe center",uc:"unsafe center"}},js:{names:["justify-self"],default:"auto",exts:{a:"auto",n:"normal",st:"stretch",c:"center",s:"start",e:"end",fs:"flex-start",fe:"flex-end",ss:"self-start",se:"self-end",l:"left",r:"right",b:"baseline",sc:"safe center",uc:"unsafe center"}},l:{names:["left"],default:"0px"},lts:{names:["letter-spacing"],default:"normal",exts:{n:"normal"}},lbrk:{names:["line-break"]},lh:{names:["line-height"],default:"1.5"},ls:{names:["list-style"],default:"none",exts:{i:"inside",di:"disc",c:"circle",s:"square",de:"decimal",g:"georgian",tci:"trad-chinese-informal",k:"kannada"}},lsi:{names:["list-style-image"]},lisp:{names:["list-style-position"],default:"inside",exts:{i:"inside",o:"outside"}},lst:{names:["list-style-type"],default:"none",exts:{di:"disc",c:"circle",s:"square",de:"decimal",g:"georgian",tci:"trad-chinese-informal",k:"kannada"}},m:{names:["margin"]},mx:{names:["margin-left","margin-right"],default:"auto",exts:{a:"auto"}},my:{names:["margin-top","margin-bottom"],default:"auto",exts:{a:"auto"}},mblk:{names:["margin-block"]},mbe:{names:["margin-block-end"]},mbsta:{names:["margin-block-start"]},mb:{names:["margin-bottom"],default:"auto",exts:{a:"auto"}},min:{names:["margin-inline"]},mie:{names:["margin-inline-end"]},mista:{names:["margin-inline-start"]},ml:{names:["margin-left"],default:"auto",exts:{a:"auto"}},mr:{names:["margin-right"],default:"auto",exts:{a:"auto"}},mt:{names:["margin-top"],default:"auto",exts:{a:"auto"}},msk:{names:["mask"]},mskb:{names:["mask-border"]},mskbm:{names:["mask-border-mode"]},mskbo:{names:["mask-border-outset"]},mskbr:{names:["mask-border-repeat"]},mskbs:{names:["mask-border-slice"]},mskbsrc:{names:["mask-border-source"]},mskbw:{names:["mask-border-width"]},mskc:{names:["mask-clip"]},mskcp:{names:["mask-composite"]},mski:{names:["mask-image"]},mskm:{names:["mask-mode"]},msko:{names:["mask-origin"]},mskp:{names:["mask-position"]},mskr:{names:["mask-repeat"]},msks:{names:["mask-size"]},mskt:{names:["mask-type"]},mtd:{names:["math-depth"]},mts:{names:["math-style"]},mbs:{names:["max-block-size"]},mh:{names:["max-height"]},wh:{names:["width","height"],default:"0px",exts:{mic:"min-content",mac:"max-content",fc:"fit-content"}},mis:{names:["max-inline-size"]},mw:{names:["max-width"]},mibs:{names:["min-block-size"]},mih:{names:["min-height"],default:"auto",exts:{a:"auto",f:"100%",mic:"min-content",mac:"max-content",fc:"fit-content"}},misz:{names:["min-inline-size"]},miw:{names:["min-width"],default:"100%",exts:{f:"100%",mic:"min-content",mac:"max-content",fc:"fit-content"}},mbd:{names:["mix-blend-mode"],default:"darken",exts:{n:"normal",m:"multiply",s:"screen",o:"overlay",d:"darken",l:"lighten",cd:"color-dodge",i:"color-burn",hl:"hard-light",sl:"soft-light",di:"difference",e:"exclusion",h:"hue",sa:"saturation",c:"color",lu:"luminosity"}},of:{names:["object-fit"],default:"contain",exts:{c:"contain",cv:"cover",f:"fill",n:"none",sd:"scale-down"}},op:{names:["object-position"],default:"left",exts:{b:"bottom",c:"center",l:"left",r:"right",t:"top",lb:"left bottom",lt:"left top",rb:"right bottom",rt:"right top"}},ofs:{names:["offset"]},ofa:{names:["offset-anchor"]},ofd:{names:["offset-distance"]},ofp:{names:["offset-path"]},ofpo:{names:["offset-position"]},ofr:{names:["offset-rotate"]},opc:{names:["opacity"]},ord:{names:["order"],default:"0"},orp:{names:["orphans"]},oli:{names:["outline"]},olc:{names:["outline-color"],default:"inherit",exts:{i:"inherit",c:"currentColor",t:"transparent"}},olo:{names:["outline-offset"],default:"0px",exts:{}},ols:{names:["outline-style"],default:"none",exts:{n:"none",h:"hidden",dt:"dotted",ds:"dashed",s:"solid",db:"double",g:"groove",r:"ridge",in:"inset",out:"outset"}},olw:{names:["outline-width"],default:"medium",exts:{t:"thin",m:"medium",th:"thick"}},ofl:{names:["overflow"]},ofla:{names:["overflow-anchor"]},oflb:{names:["overflow-block"]},oflcm:{names:["overflow-clip-margin"]},ofli:{names:["overflow-inline"]},oflw:{names:["overflow-wrap"],default:"auto",exts:{a:"auto",h:"hidden",c:"clip",v:"visible",s:"scroll"}},oflx:{names:["overflow-x"],default:"auto",exts:{a:"auto",h:"hidden",c:"clip",v:"visible",s:"scroll"}},ofly:{names:["overflow-y"],default:"auto",exts:{a:"auto",h:"hidden",c:"clip",v:"visible",s:"scroll"}},osrbh:{names:["overscroll-behavior"],default:"auto",exts:{a:"auto",c:"contain",n:"none"}},osrbb:{names:["overscroll-behavior-block"],default:"auto",exts:{a:"auto",c:"contain",n:"none"}},osrbi:{names:["overscroll-behavior-inline"],default:"auto",exts:{a:"auto",c:"contain",n:"none"}},osrbx:{names:["overscroll-behavior-x"],default:"auto",exts:{a:"auto",c:"contain",n:"none"}},orsby:{names:["overscroll-behavior-y"],default:"auto",exts:{a:"auto",c:"contain",n:"none"}},p:{names:["padding"]},px:{names:["padding-left","padding-right"],default:"auto",exts:{a:"auto"}},py:{names:["padding-top","padding-bottom"],default:"auto",exts:{a:"auto"}},pblk:{names:["padding-block"]},pbe:{names:["padding-block-end"]},pbs:{names:["padding-block-start"]},pb:{names:["padding-bottom"],default:"auto",exts:{a:"auto"}},pi:{names:["padding-inline"],default:"start",exts:{s:"start",c:"center",e:"end",b:"baseline",st:"stretch"}},pie:{names:["padding-inline-end"]},pis:{names:["padding-inline-start"]},pl:{names:["padding-left"],default:"auto",exts:{a:"auto"}},pr:{names:["padding-right"],default:"auto",exts:{a:"auto"}},pt:{names:["padding-top"],default:"auto",exts:{a:"auto"}},pg:{names:["page"]},pgba:{names:["page-break-after"]},pgbb:{names:["page-break-before"]},pgbi:{names:["page-break-inside"]},pto:{names:["paint-order"]},psp:{names:["perspective"]},pso:{names:["perspective-origin"]},plc:{names:["place-content"]},pli:{names:["place-items"]},pls:{names:["place-self"]},pe:{names:["pointer-events"],default:"auto",exts:{a:"auto",n:"none"}},pos:{names:["position"],default:"static",exts:{s:"static",f:"fixed",a:"absolute",r:"relative",st:"sticky"}},prca:{names:["print-color-adjust"]},qts:{names:["quotes"]},rsz:{names:["resize"],default:"none",exts:{n:"none",b:"both",h:"horizontal",v:"vertical"}},r:{names:["right"],default:"0px"},rot:{names:["rotate"]},rgap:{names:["row-gap"],default:"0px"},rbp:{names:["ruby-position"]},s:{names:["scale"]},scrb:{names:["scroll-behavior"]},scrm:{names:["scroll-margin"]},scrmblk:{names:["scroll-margin-block"]},scrmbe:{names:["scroll-margin-block-end"]},scrmbs:{names:["scroll-margin-block-start"]},scrmb:{names:["scroll-margin-bottom"]},scrmi:{names:["scroll-margin-inline"]},scrmie:{names:["scroll-margin-inline-end"]},scrmis:{names:["scroll-margin-inline-start"]},scrml:{names:["scroll-margin-left"]},scrmr:{names:["scroll-margin-right"]},scrmt:{names:["scroll-margin-top"]},scrp:{names:["scroll-padding"]},scrpblk:{names:["scroll-padding-block"]},srcpbe:{names:["scroll-padding-block-end"]},scrpbs:{names:["scroll-padding-block-start"]},scrpb:{names:["scroll-padding-bottom"]},scrpi:{names:["scroll-padding-inline"]},scrpie:{names:["scroll-padding-inline-end"]},scrpis:{names:["scroll-padding-inline-start"]},scrpl:{names:["scroll-padding-left"]},scrpr:{names:["scroll-padding-right"]},scrpt:{names:["scroll-padding-top"]},scrsa:{names:["scroll-snap-align"]},scrss:{names:["scroll-snap-stop"]},scrst:{names:["scroll-snap-type"]},sbc:{names:["scrollbar-color"]},sbg:{names:["scrollbar-gutter"]},sbw:{names:["scrollbar-width"]},tbs:{names:["tab-size"]},shit:{names:["shape-image-threshold"]},shm:{names:["shape-margin"]},sho:{names:["shape-outside"]},tra:{names:["transform"]},trab:{names:["transform-box"]},trao:{names:["transform-origin"]},tras:{names:["transform-style"]},tran:{names:["transition"]},tranb:{names:["transition-behavior"]},trand:{names:["transition-delay"]},trandur:{names:["transition-duration"]},tranp:{names:["transition-property"]},trantf:{names:["transition-timing-function"]},tbl:{names:["table-layout"]},ta:{names:["text-align"],default:"start",exts:{s:"start",e:"end",l:"left",r:"right",j:"justify",mp:"match-parent",mc:"-moz-center",wc:"-webkit-center"}},tal:{names:["text-align-last"],default:"auto",exts:{a:"auto",s:"start",e:"end",l:"left",r:"right",c:"center",j:"justify"}},tcu:{names:["text-combine-upright"]},td:{names:["text-decoration"],default:"none",exts:{n:"none",u:"underline"}},tdc:{names:["text-decoration-color"]},tdl:{names:["text-decoration-line"],default:"none",exts:{u:"underline",o:"overline",lt:"line-through",b:"blink"}},tdsi:{names:["text-decoration-skip-ink"]},tds:{names:["text-decoration-style"],default:"solid",exts:{db:"double",dt:"dotted",ds:"dashed",w:"wavy"}},tdt:{names:["text-decoration-thickness"],default:"auto",exts:{ff:"from-font"}},teph:{names:["text-emphasis"],default:"none"},tec:{names:["text-emphasis-color"],default:"currentColor"},tep:{names:["text-emphasis-position"],default:"over right",exts:{or:"over right",ol:"over left",ur:"under right",ul:"under left",lo:"left over",ru:"right under",lu:"left under"}},tes:{names:["text-emphasis-style"],exts:{n:"none"}},ti:{names:["text-indent"],default:"0"},tj:{names:["text-justify"],default:"auto",exts:{n:"none",a:"auto",iw:"inter-word",ic:"inter-character",d:"distribute"}},tor:{names:["text-orientation"],exts:{m:"mixed",u:"upright",sr:"sideways-right",sl:"sideways-left",s:"sideways",ugo:"use-glyph-orientation"},default:"mixed"},tol:{names:["text-overflow"],default:"clip",exts:{c:"clip",e:"ellipsis"}},trd:{names:["text-rendering"],default:"auto",exts:{a:"auto",op:"optimizeSpeed",ol:"optimizeLegibility",g:"geometricPrecision"}},tsh:{names:["text-shadow"]},ttr:{names:["text-transform"],default:"capitalize",exts:{n:"none",c:"capitalize",u:"uppercase",l:"lowercase",fw:"full-width",fsk:"full-size-kana"}},tuo:{names:["text-underline-offset"],default:"auto"},tup:{names:["text-underline-position"],default:"under",exts:{a:"auto",u:"under",l:"left",r:"right",ul:"under left",ru:"right under"}},tw:{names:["text-wrap"],default:"nowrap",exts:{w:"wrap",n:"nowrap",b:"balance",p:"pretty"}},t:{names:["top"],default:"0px"},toa:{names:["touch-action"],default:"auto",exts:{a:"auto",n:"none",p:"pan-x",py:"pan-y",pm:"pan-x pan-y",pi:"pinch-zoom"}},trl:{names:["translate"]},unib:{names:["unicode-bidi"]},us:{names:["user-select"],default:"auto",exts:{a:"auto",n:"none",t:"text",all:"all",c:"contain"}},va:{names:["vertical-align"],default:"baseline",exts:{bl:"baseline",t:"top",m:"middle",b:"bottom",tt:"text-top",tb:"text-bottom",sb:"sub",sp:"super"}},v:{names:["visibility"],default:"visible",exts:{v:"visible",h:"hidden",c:"collapse"}},ws:{names:["white-space"]},wsc:{names:["white-space-collapse"]},wd:{names:["widows"]},w:{names:["width"],default:"100%",exts:{mic:"min-content",mac:"max-content",fc:"fit-content",f:"100%"}},wc:{names:["will-change"],default:"auto",exts:{a:"auto",sp:"scroll-position",c:"contents",t:"transform"}},wrb:{names:["word-break"]},wrs:{names:["word-spacing"]},wrtm:{names:["writing-mode"]},z:{names:["z-index"],default:"-1",exts:{}}}};var mt=(n=>{if(!n)return null;var e=n.data,t=n.default;let s=/^((?<m>xs|sm|md|lg|xl|2xl):)?(?<p>[a-z]+)(?<i>[!]+)?(?<v1>((([A-Z])([a-z]+)?)|((-)?([0-9]+)?([.])?([0-9]+)(\/[0-9]+)?([a-z]+)?([%])?)|(([A-Z])([a-z]+)\([^\)]+\))))?(\{(?<v2>[^\}]+)\})?(?<v3>--[a-z]+)?(?<v4>#[0-9a-f]{3,9})?(?<s>.+)?$/;function r(h){var{groups:o}=s.exec(h)||{};if(o){var{m:g="default",p:y,i:b,v1:k,v2:O,v3:v,v4:S,s:x=""}=o;x=x.trim();let j=k||O||v||S,W=b&&b.length>0?b.length:0;var L="";if(!y)return null;var A=e[y];x&&(x&&x.startsWith("|")&&(x=x.slice(1)),x&&(L=x.replace(/_/g," ")));var V=CSS.escape(h);if(L&&!CSS.supports(`selector(${V}${L})`))return null;let F=null;if(A)if(j){if(k){let w=/^((?<l1>([A-Z])([a-z]+)?)|(?<l2>(-)?([0-9]+)?([.])?([0-9]+)(\/[0-9]+)?([a-z]+)?([%])?)|(?<l3>([A-Z])([a-z]+)\([^\)]+\)))$/,{groups:E}=w.exec(k)||{};if(E){let{l1:R,l2:T,l3:P}=E;F=f(R,A)||u(T,A)||c(P,A)}}(O||S)&&(F=c(O||S,A)),v&&(F=i(v,A))}else{if(A.cssText){let w=typeof A.cssText=="string"?[A.cssText]:Array.isArray(A.cssText)?A.cssText:[];if(!w.every(E=>CSS.supports(E)))return null;F=w}if(A.default&&Array.isArray(A.names)&&A.names.length>0&&(F=A.names.map(w=>`${w}:${A.default}`)),!F)return null}else{if(y!="cf"||!j)return null;let w=[j[0].toLowerCase(),j.substr(1)].join("");if(!(typeof window.TFL_STYLE_CONFIG=="object"&&Object.keys(window.TFL_STYLE_CONFIG).length>0&&window.TFL_STYLE_CONFIG[w]))return null;y=typeof window.TFL_STYLE_CONFIG[w]=="string"?[window.TFL_STYLE_CONFIG[w]]:window.TFL_STYLE_CONFIG[w]}return!F||(W>0&&(F=F.map(w=>w.endsWith("!important")?w:`${w} !important`)),!F.every(w=>CSS.supports(w)))?null:{selectorStr:L,classNameStr:V,properties:F,media:g,importain:W}}else return null}function l(h){var o=/class="([^"]+)"/g,g=[];return[...h.matchAll(o)].forEach(y=>g=g.concat(y[1].split(" "))),[...new Set(g)]}function a(h){function o(g=[]){let y=[];for(let k of g){var b=[...k.classList];if(b.length>0&&y.push(...b),k.children.length>0){let O=o(k.children);y.push(...O)}}return[...new Set(y)]}return h?o([...h.children]):[]}function p(h,o){o(a(h)),new MutationObserver(g=>{for(let y of g)if(y.type=="attributes"&&y.attributeName=="class"){let b=y.target.className||"",k=y.oldValue||"",O=b.split(" ").map(S=>S.trim()).filter(S=>S),v=k.split(" ").map(S=>S.trim()).filter(S=>S);O=O.filter(S=>!v.includes(S)),typeof o=="function"&&o([...new Set(O)])}else if(y.type=="childList"&&y.addedNodes.length>0){let b=[...y.addedNodes].filter(k=>k.nodeType!=3).map(k=>[...k.classList]).flat(1/0).map(k=>k.trim()).filter(k=>k);typeof o=="function"&&o([...new Set(b)])}}).observe(h,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"],childList:!0,subtree:!0})}function i(h,o){return h?o.names.map(g=>`${g}:var(${h})`):null}function f(h,o){if(!h)return null;if(o.exts=o.exts||{},h=[h[0].toLowerCase(),h.slice(1)].join(""),h=h.replace("_"," "),typeof o.fn=="function")return o.fn(h);{let g=o.exts[h];return g?o.names.map(y=>`${y}:${g}`):null}}function u(h,o){if(!h)return null;if(o.exts=o.exts||{},h=[h[0].toLowerCase(),h.slice(1)].join(""),h=h.replace("_"," "),h.split("/").length>1){let g=h.match(/(?<d1>\d+)\/(?<d2>\d+)$/);if(g){let{d1:y,d2:b}=g.groups;return o.names.map(k=>`${k}:calc(${y} / ${b})`)}return null}else return o.names.map(g=>`${g}:${h}`)}function c(h,o){return h?(h=[h[0].toLowerCase(),h.slice(1)].join(""),h=h.replace("_"," "),o.names.map(g=>`${g}:${h}`)):null}function _(h=document,o="tfl"){let g=[],y=new Se,b={default:[new Set,new Set],xs:[new Set,new Set],sm:[new Set,new Set],md:[new Set,new Set],lg:[new Set,new Set],xl:[new Set,new Set],"2xl":[new Set,new Set]},k={default:[new CSSStyleSheet,new CSSStyleSheet],xs:[new CSSStyleSheet({media:"screen and (max-width: 575px)"}),new CSSStyleSheet({media:"screen and (max-width: 575px)"})],sm:[new CSSStyleSheet({media:"screen and (min-width: 576px)"}),new CSSStyleSheet({media:"screen and (min-width: 576px)"})],md:[new CSSStyleSheet({media:"screen and (min-width: 768px)"}),new CSSStyleSheet({media:"screen and (min-width: 768px)"})],lg:[new CSSStyleSheet({media:"screen and (min-width: 992px)"}),new CSSStyleSheet({media:"screen and (min-width: 992px)"})],xl:[new CSSStyleSheet({media:"screen and (min-width: 1200px)"}),new CSSStyleSheet({media:"screen and (min-width: 1200px)"})],"2xl":[new CSSStyleSheet({media:"screen and (min-width: 1400px)"}),new CSSStyleSheet({media:"screen and (min-width: 1400px)"})]};var O=()=>{let x;return L=>{clearTimeout(x),x=setTimeout(()=>{Object.keys(b).forEach(A=>{let V=o+"-"+A+"-0",j=o+"-"+A+"-1";b[A][0].size>0&&localStorage.setItem(V,JSON.stringify([...b[A][0]])),b[A][1].size>0&&localStorage.setItem(j,JSON.stringify([...b[A][1]]))})},L||0)}},v=O(100),S=()=>{Object.keys(b).forEach(x=>{let L=o+"-"+x+"-0",A=o+"-"+x+"-1",V=localStorage.getItem(L),j=localStorage.getItem(A);V&&(b[x][0]=new Set(JSON.parse(V)),k[x][0].replaceSync([...b[x][0]].join(""))),j&&(b[x][1]=new Set(JSON.parse(j)),k[x][1].replaceSync([...b[x][1]].join("")))})};if(S(),t&&Array.isArray(t)){let x=new CSSStyleSheet;x.replaceSync(t.join("")),document.adoptedStyleSheets=[...document.adoptedStyleSheets,x]}Object.keys(k).forEach(x=>{k[x].forEach((L,A)=>{document.adoptedStyleSheets=[...document.adoptedStyleSheets,L]})}),y.on("change",x=>{let{media:L,properties:A,selectorStr:V,classNameStr:j,importain:W}=x,F=k[L],w=b[L];var E=V?0:1;let R=W>0?" !important":"";var T=`.${j}${V}{${A.join(R+";")}}`;w[E].has(T)||(w[E].add(T),F[E].insertRule(T),v())}),p(h.body,x=>{x.map(A=>r(A)).filter(A=>A).forEach(A=>{g.includes(A.classNameStr)||(g.push(A.classNameStr),y.emit("change",A))})})}return{excuteProperties:r,getAllClassFromString:l,getAllClassFromDom:a,eventDom:p,storeCss:_}})(pt);(()=>{let n={...Me,...ie,...Ue(ie),...Ke,...We(ie),...Ye(ie),ws:ce,EventEmitter:Se,init:!0};["compressString","decompressString","encryptAesGcm","decryptAesGcm","sha256","generateKeyPairEnDecrypt","encryptData","decryptData","generateKeyPairSignVerify","signData","verifySignature","add","insertNodes","tags","state","derive","hydrate","calc","reactive","stateFields","raw","list","replace","compact","addHtmToElement","htmlToTjs","domToTjs","defineElement","Await","MessageBoard","topMostZIndex","FloatingWindow","loadEventDom","renCssFromArray","ws","EventEmitter","init"].forEach(t=>{Object.defineProperty(window,"$"+t,{get:()=>n[t],configurable:!1,enumerable:!1})}),function(){let t=mt;Object.defineProperty(window,"$css",{get:()=>t,configurable:!1,enumerable:!1})}(),setTimeout(()=>{$css.storeCss(document,"tfl")}),addEventListener("__complete",()=>{[...document.querySelectorAll("[x-app]")].filter(t=>t.parentNode.closest("[x-app]")==null).forEach(t=>{t.removeAttribute("x-app"),window.$addHtmToElement(t,"replaceChildren",t.innerHTML,!0)})});let e=setInterval(()=>{document.readyState==="complete"&&(clearInterval(e),dispatchEvent(new Event("__complete")))},1)})();})();
